class_name DropablesComponent extends Node2D

@export var dropables: Array[PackedScene]
@export var initial_velocity: Vector2 = Vector2(10.0, 10.0)

var dropable_pool: Array[ObjectPool]

func _ready() -> void:
	for d in dropables:
		var tmp_pool = ObjectPoolService.get_pool(d)
		dropable_pool.append(tmp_pool)

func drop() -> void:
	for dp in dropable_pool:
		var rng1 = randf_range(-300,300)
		var rng2 = randf_range(500,300)
		var dropable_node = dp.claim_new()
		dropable_node.global_position = global_position
		dropable_node.linear_velocity = Vector2(rng1, -rng2)
