extends Node2D

var player_node: PlayerInstance:
	get: return owner

var terminal: Control:
	get: return get_tree().current_scene.get_node("%FloatingUI").get_node("Terminal")

func _ready() -> void:
	terminal.close()

func _input(event: InputEvent) -> void:
	if event.is_action_pressed("Terminal") and Timemode.current_time_mode == Timemode.TIME_MODE.NORMAL and !Player.player_node.is_on_floor():
		terminal.open()
		VFX.shockwave.spawn_large(player_node)
	if event.is_action_pressed("Pause") and Timemode.current_time_mode == Timemode.TIME_MODE.SLOWMO:
		terminal.close()

func _physics_process(delta: float) -> void:
	terminal.global_position = player_node.global_position
