[gd_scene load_steps=13 format=3 uid="uid://ctqf11ltd33hw"]

[ext_resource type="Script" path="res://scripts/player/player.gd" id="1_e8txh"]
[ext_resource type="PackedScene" uid="uid://cgsn8y8emb4lv" path="res://scripts/components/health_component.tscn" id="2_8tngo"]
[ext_resource type="PackedScene" uid="uid://bv0ucqr6mx6u4" path="res://scripts/components/shoot_components.tscn" id="3_tm0sq"]
[ext_resource type="PackedScene" uid="uid://64t337w2n4fs" path="res://scripts/components/hitbox_component.tscn" id="4_kgvqi"]
[ext_resource type="Texture2D" uid="uid://du361ca52e60v" path="res://resources/players/frame0000.png" id="5_1natb"]
[ext_resource type="FontFile" uid="uid://cno3wcun2iakl" path="res://resources/fonts/urbanist-fonts/Urbanist-Regular.ttf" id="7_v2b60"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1g4pl"]
size = Vector2(14, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q2smv"]
size = Vector2(14, 2.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_axdng"]
size = Vector2(6, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5mwxk"]
size = Vector2(6, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hhl0x"]
size = Vector2(14, 4)

[sub_resource type="LabelSettings" id="LabelSettings_xvw1t"]
font = ExtResource("7_v2b60")

[node name="Player" type="CharacterBody2D"]
position = Vector2(0, -5)
collision_layer = 8
collision_mask = 3
script = ExtResource("1_e8txh")

[node name="MainCollision" type="CollisionShape2D" parent="."]
position = Vector2(0, 7.5)
shape = SubResource("RectangleShape2D_1g4pl")

[node name="UpCheck" type="Area2D" parent="."]
position = Vector2(0, -19)
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="UpCheck"]
position = Vector2(0, -0.75)
shape = SubResource("RectangleShape2D_q2smv")

[node name="LedgeDetectionL" type="Area2D" parent="."]
position = Vector2(-8, -13)
collision_layer = 0
collision_mask = 6

[node name="LedgeDetectionL" type="CollisionShape2D" parent="LedgeDetectionL"]
shape = SubResource("RectangleShape2D_axdng")
debug_color = Color(0.572549, 0.545098, 0.27451, 0.419608)

[node name="LedgeDetectionR" type="Area2D" parent="."]
position = Vector2(8, -13)
collision_layer = 0
collision_mask = 6

[node name="LedgeDetectionR" type="CollisionShape2D" parent="LedgeDetectionR"]
shape = SubResource("RectangleShape2D_5mwxk")
debug_color = Color(0.572549, 0.545098, 0.27451, 0.419608)

[node name="PlatformCheck" type="Area2D" parent="."]
position = Vector2(0, 30)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlatformCheck"]
shape = SubResource("RectangleShape2D_hhl0x")

[node name="HealthComponent" parent="." instance=ExtResource("2_8tngo")]

[node name="HitboxComponent" parent="." node_paths=PackedStringArray("health_component") instance=ExtResource("4_kgvqi")]
health_component = NodePath("../HealthComponent")

[node name="ShootComponents" parent="." instance=ExtResource("3_tm0sq")]

[node name="AimCenter" type="Marker2D" parent="."]

[node name="BulletSpawn" type="Marker2D" parent="AimCenter"]
position = Vector2(29, 0)

[node name="Label" type="Node2D" parent="."]

[node name="Ket" type="Label" parent="Label"]
modulate = Color(1, 1, 1, 0.556863)
offset_left = 35.0
offset_top = -3.0
offset_right = 136.0
offset_bottom = 66.0
text = "State	:
Facing:
Head:
Flip:
Fire:"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="CharState" type="Label" parent="Label"]
offset_left = 89.0
offset_top = -3.0
offset_right = 190.0
offset_bottom = 66.0
text = "forward"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="CharFacing" type="Label" parent="Label"]
offset_left = 89.0
offset_top = 21.0
offset_right = 190.0
offset_bottom = 90.0
text = "backward"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="CharHead" type="Label" parent="Label"]
offset_left = 89.0
offset_top = 43.0
offset_right = 190.0
offset_bottom = 112.0
text = "up"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="CharFlip" type="Label" parent="Label"]
offset_left = 89.0
offset_top = 66.0
offset_right = 190.0
offset_bottom = 135.0
text = "up"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="CharFire" type="Label" parent="Label"]
offset_left = 89.0
offset_top = 89.0
offset_right = 190.0
offset_bottom = 158.0
text = "up"
label_settings = SubResource("LabelSettings_xvw1t")

[node name="Frame0000" type="Sprite2D" parent="."]
position = Vector2(1, 4)
texture = ExtResource("5_1natb")

[connection signal="body_entered" from="UpCheck" to="." method="_on_up_check_body_entered"]
[connection signal="area_entered" from="LedgeDetectionL" to="." method="_on_ledge_detection_l_area_entered"]
[connection signal="area_exited" from="LedgeDetectionL" to="." method="_on_ledge_detection_l_area_exited"]
[connection signal="area_entered" from="LedgeDetectionR" to="." method="_on_ledge_detection_r_area_entered"]
[connection signal="area_exited" from="LedgeDetectionR" to="." method="_on_ledge_detection_r_area_exited"]
