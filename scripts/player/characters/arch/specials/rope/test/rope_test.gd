extends Node2D

@export var rope_scene: PackedScene
var start_pos: = Vector2.ZERO
var end_pos: = Vector2.ZERO

func _input(event: InputEvent) -> void:
	if event.is_action_pressed("Shoot_1"):
		if start_pos == Vector2.ZERO:
			start_pos = get_global_mouse_position()
			return
		end_pos = get_global_mouse_position()
		
		var rope = rope_scene.instantiate()
		add_child(rope)
		rope.spawn_rope(start_pos, end_pos)
		start_pos = Vector2.ZERO
		end_pos = Vector2.ZERO
			
