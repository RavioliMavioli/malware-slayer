[gd_scene load_steps=56 format=3 uid="uid://boqu3nbg5ca7q"]

[ext_resource type="Script" path="res://scripts/player/characters/arch/arch_specials.gd" id="1_af12u"]
[ext_resource type="Texture2D" uid="uid://26dsd4j1fxav" path="res://resources/sprites/entities/player/arch/Fall.png" id="1_sectp"]
[ext_resource type="Texture2D" uid="uid://bn86i3833644p" path="res://resources/sprites/entities/player/arch/idle/frame0000.png" id="2_qfrt0"]
[ext_resource type="Texture2D" uid="uid://ckqyl1kmoa63k" path="res://resources/sprites/entities/player/arch/idle/frame0001.png" id="3_26i6j"]
[ext_resource type="Texture2D" uid="uid://d0pgvhmm0aaae" path="res://resources/sprites/entities/player/arch/idle/frame0002.png" id="4_j404m"]
[ext_resource type="Texture2D" uid="uid://bcpfgdegvmrfw" path="res://resources/sprites/entities/player/arch/idle/frame0003.png" id="5_4r1rl"]
[ext_resource type="Texture2D" uid="uid://rus7nhrkf1iy" path="res://resources/sprites/entities/player/arch/idle/frame0004.png" id="6_36alp"]
[ext_resource type="Texture2D" uid="uid://bnepia06smh2i" path="res://resources/sprites/entities/player/arch/idle/frame0005.png" id="7_tq7g5"]
[ext_resource type="Texture2D" uid="uid://cxld567whaqmt" path="res://resources/sprites/entities/player/arch/idle/frame0006.png" id="8_kdwv1"]
[ext_resource type="Texture2D" uid="uid://cstxgr8tx3i3w" path="res://resources/sprites/entities/player/arch/idle/frame0007.png" id="9_r45l4"]
[ext_resource type="Texture2D" uid="uid://pwsi3y868xco" path="res://resources/sprites/entities/player/arch/idle/frame0008.png" id="10_u4j87"]
[ext_resource type="Texture2D" uid="uid://c1rkodlalymj4" path="res://resources/sprites/entities/player/arch/idle/frame0009.png" id="11_jf10t"]
[ext_resource type="Texture2D" uid="uid://b4jmp3vl6ntbk" path="res://resources/sprites/entities/player/arch/idle/frame0010.png" id="12_sjnek"]
[ext_resource type="Texture2D" uid="uid://bqgotafa3ndxl" path="res://resources/sprites/entities/player/arch/Jump.png" id="13_pg5s1"]
[ext_resource type="Texture2D" uid="uid://bredu18ne50jf" path="res://resources/sprites/entities/player/arch/edge.png" id="14_enu26"]
[ext_resource type="Texture2D" uid="uid://cg5da8xds2oay" path="res://resources/sprites/entities/player/arch/run_back/frame0000.png" id="15_gew0i"]
[ext_resource type="Texture2D" uid="uid://cyb5wefk70wss" path="res://resources/sprites/entities/player/arch/run_back/frame0001.png" id="16_k8h11"]
[ext_resource type="Texture2D" uid="uid://blcgro8joy8mn" path="res://resources/sprites/entities/player/arch/run_back/frame0002.png" id="17_ftshs"]
[ext_resource type="Texture2D" uid="uid://ce3o2atn3ep3e" path="res://resources/sprites/entities/player/arch/run_back/frame0003.png" id="18_1yggr"]
[ext_resource type="Texture2D" uid="uid://c407ow8ynhcd2" path="res://resources/sprites/entities/player/arch/run_front/frame0000.png" id="19_bwkr3"]
[ext_resource type="Texture2D" uid="uid://c5vgeeq80omie" path="res://resources/sprites/entities/player/arch/run_front/frame0001.png" id="20_t1771"]
[ext_resource type="Texture2D" uid="uid://jle7vr4yx2le" path="res://resources/sprites/entities/player/arch/run_front/frame0002.png" id="21_xljgt"]
[ext_resource type="Texture2D" uid="uid://cjualfb5ri3d1" path="res://resources/sprites/entities/player/arch/run_front/frame0003.png" id="22_qrvhy"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6j8at"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qa4jq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kacex"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x371e"]
animation = &"ledge"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hmvii"]
animation = &"run_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ywgxm"]
animation = &"run_backward"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_e3dkh"]
animation = &"run_forward"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r21o8"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kyutp"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pcgk5"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_emhgb"]
advance_condition = &"run_backward"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fsrad"]
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s8k3w"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lo3kd"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l8ca7"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nbab0"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m5s17"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_01dwc"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7cegh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lm3jt"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_yyig1"]
states/End/position = Vector2(706, 91)
states/Start/position = Vector2(148, 91)
states/fall/node = SubResource("AnimationNodeAnimation_6j8at")
states/fall/position = Vector2(209, -67)
states/idle/node = SubResource("AnimationNodeAnimation_qa4jq")
states/idle/position = Vector2(330, 91)
states/jump/node = SubResource("AnimationNodeAnimation_kacex")
states/jump/position = Vector2(375, -78)
states/ledge/node = SubResource("AnimationNodeAnimation_x371e")
states/ledge/position = Vector2(503, 204)
states/run_backward/node = SubResource("AnimationNodeAnimation_ywgxm")
states/run_backward/position = Vector2(231, 234)
"states/run_backward 2/node" = SubResource("AnimationNodeAnimation_hmvii")
"states/run_backward 2/position" = Vector2(558, -34)
states/run_forward/node = SubResource("AnimationNodeAnimation_e3dkh")
states/run_forward/position = Vector2(534, 91)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_r21o8"), "idle", "run_forward", SubResource("AnimationNodeStateMachineTransition_kyutp"), "run_forward", "idle", SubResource("AnimationNodeStateMachineTransition_pcgk5"), "idle", "run_backward", SubResource("AnimationNodeStateMachineTransition_emhgb"), "run_backward", "idle", SubResource("AnimationNodeStateMachineTransition_fsrad"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_s8k3w"), "jump", "idle", SubResource("AnimationNodeStateMachineTransition_lo3kd"), "idle", "fall", SubResource("AnimationNodeStateMachineTransition_l8ca7"), "fall", "idle", SubResource("AnimationNodeStateMachineTransition_nbab0"), "idle", "run_backward 2", SubResource("AnimationNodeStateMachineTransition_m5s17"), "run_backward 2", "idle", SubResource("AnimationNodeStateMachineTransition_01dwc"), "idle", "ledge", SubResource("AnimationNodeStateMachineTransition_7cegh"), "ledge", "idle", SubResource("AnimationNodeStateMachineTransition_lm3jt")]
graph_offset = Vector2(-128, -82)

[sub_resource type="Animation" id="Animation_id3kf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_h77w7"]
resource_name = "fall"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"fall"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_k4f6c"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
}

[sub_resource type="Animation" id="Animation_00kae"]
resource_name = "jump"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_wwv04"]
resource_name = "ledge"
length = 0.1
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"ledge"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_xh5ja"]
resource_name = "run_backward"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run_backward"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 2]
}

[sub_resource type="Animation" id="Animation_imvuk"]
resource_name = "run_forward"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run_forward"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vc35e"]
_data = {
"RESET": SubResource("Animation_id3kf"),
"fall": SubResource("Animation_h77w7"),
"idle": SubResource("Animation_k4f6c"),
"jump": SubResource("Animation_00kae"),
"ledge": SubResource("Animation_wwv04"),
"run_backward": SubResource("Animation_xh5ja"),
"run_forward": SubResource("Animation_imvuk")
}

[sub_resource type="Shader" id="Shader_o4ysg"]
code = "// Mandatory line to define 2D shaders
shader_type canvas_item;

// Allows us to assign a normal map to the shader in the Inspector
uniform sampler2D normal_map;

void fragment(){
	// Converts the texture data into a unit vector, with each channel in the [-1, 1] range

NORMAL = 2.0 * texture(normal_map, UV).rgb - 1.0;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e7uco"]
shader = SubResource("Shader_o4ysg")

[sub_resource type="SpriteFrames" id="SpriteFrames_5b7yo"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_sectp")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_qfrt0")
}, {
"duration": 1.0,
"texture": ExtResource("3_26i6j")
}, {
"duration": 1.0,
"texture": ExtResource("4_j404m")
}, {
"duration": 1.0,
"texture": ExtResource("5_4r1rl")
}, {
"duration": 1.0,
"texture": ExtResource("6_36alp")
}, {
"duration": 1.0,
"texture": ExtResource("7_tq7g5")
}, {
"duration": 1.0,
"texture": ExtResource("8_kdwv1")
}, {
"duration": 1.0,
"texture": ExtResource("9_r45l4")
}, {
"duration": 1.0,
"texture": ExtResource("10_u4j87")
}, {
"duration": 1.0,
"texture": ExtResource("11_jf10t")
}, {
"duration": 1.0,
"texture": ExtResource("12_sjnek")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_pg5s1")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_enu26")
}],
"loop": true,
"name": &"ledge",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_gew0i")
}, {
"duration": 1.0,
"texture": ExtResource("16_k8h11")
}, {
"duration": 1.0,
"texture": ExtResource("17_ftshs")
}, {
"duration": 1.0,
"texture": ExtResource("18_1yggr")
}],
"loop": true,
"name": &"run_backward",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("19_bwkr3")
}, {
"duration": 1.0,
"texture": ExtResource("20_t1771")
}, {
"duration": 1.0,
"texture": ExtResource("21_xljgt")
}, {
"duration": 1.0,
"texture": ExtResource("22_qrvhy")
}],
"loop": true,
"name": &"run_forward",
"speed": 5.0
}]

[node name="Arch" type="Node2D"]
script = ExtResource("1_af12u")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_yyig1")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/idle = false
parameters/conditions/run_backward = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_vc35e")
}

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
light_mask = 8
material = SubResource("ShaderMaterial_e7uco")
sprite_frames = SubResource("SpriteFrames_5b7yo")
animation = &"idle"
