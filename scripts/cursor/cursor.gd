extends Node2D

@onready var anim: AnimationPlayer = $AnimationPlayer

func _ready():
	Cursor.current_cursor_state = Cursor.CURSOR_STATE.AIM
	Cursor.cursor_state_changed.connect(_cursor_changed)

func _process(_delta):
	# Prevent being affected by slowmo
	anim.speed_scale = 1/Engine.time_scale

func _physics_process(_delta):
	global_position = get_global_mouse_position()

func _cursor_changed():
	match Cursor.current_cursor_state:
		Cursor.CURSOR_STATE.NORMAL:
			anim.play("to_normal")
		Cursor.CURSOR_STATE.AIM:
			anim.play("to_aim")
