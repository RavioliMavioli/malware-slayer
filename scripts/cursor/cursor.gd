extends Node2D

@onready var anim: AnimationPlayer = $AnimationPlayer

func _ready():
	Cursor.current_cursor_state = Cursor._cursor_state.AIM

func _input(event):
	
	if event.is_action_pressed("Q"):
		Cursor.current_cursor_state = wrapi(Cursor.current_cursor_state + 1, Cursor._cursor_state.NORMAL, Cursor._cursor_state.size())
		
func _process(delta):
	# Prevent being affected by slowmo
	anim.speed_scale = 1/Engine.time_scale

	if Cursor.state_changed:
		match Cursor.current_cursor_state:
			Cursor._cursor_state.NORMAL:
				anim.play("to_normal")
			Cursor._cursor_state.AIM:
				anim.play("to_aim")
		Cursor.state_changed = false
