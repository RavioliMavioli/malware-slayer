extends Node
@warning_ignore("unused_variable")
var _shockwave_weak: PackedScene = preload("res://shaders/shockwave/shockwave_weak.tscn")
var _shockwave_normal: PackedScene = preload("res://shaders/shockwave/shockwave_normal.tscn")
var _shockwave_big: PackedScene = preload("res://shaders/shockwave/shockwave_big.tscn")
var _shockwave_large: PackedScene = preload("res://shaders/shockwave/shockwave_large.tscn")

var _dust_1: PackedScene = preload("res://scripts/utils/visual_effects/dusts/dust1/dust1.tscn")
var _dust_2: PackedScene = preload("res://scripts/utils/visual_effects/dusts/dust2/dust2.tscn")
var _dust_3: PackedScene = preload("res://scripts/utils/visual_effects/dusts/dust3/dust3.tscn")

class shockwave:
	static var shockwave_instance
	enum STRENGTH {WEAK, NORMAL, BIG, LARGE}
	
	static func spawn(strength: STRENGTH, node: Object) -> Object:
		match strength:
			STRENGTH.WEAK:
				shockwave_instance = VFX._shockwave_weak.instantiate()
			STRENGTH.NORMAL:
				shockwave_instance = VFX._shockwave_normal.instantiate()
			STRENGTH.BIG:
				shockwave_instance = VFX._shockwave_big.instantiate()
			STRENGTH.LARGE:
				shockwave_instance = VFX._shockwave_large.instantiate()
		shockwave_instance.spawn(node)
		return shockwave_instance

class camera_shake:
	var shaker = CameraShaker.new()
	enum STRENGTH {	SHORT_WEAK, SHORT_MEDIUM, SHORT_STRONG,
					MEDIUM_WEAK, MEDIUM_MEDIUM, MEDIUM_STRONG,
					LONG_WEAK, LONG_MEDIUM, LONG_STRONG,
					COMICALLY_STRONG}

	func shake_custom(factor: float, time_duration: float) -> void:
		shaker.screen_shake(factor, time_duration)
	
	func shake(strength: STRENGTH):
		match strength:
			STRENGTH.SHORT_WEAK:
				shaker.screen_shake(0.75, 0.25)
			STRENGTH.SHORT_MEDIUM:
				shaker.screen_shake(1.2, 0.25)
			STRENGTH.SHORT_STRONG:
				shaker.screen_shake(2.0, 0.25)
			STRENGTH.MEDIUM_WEAK:
				shaker.screen_shake(0.75, 0.8)
			STRENGTH.MEDIUM_MEDIUM:
				shaker.screen_shake(1.2, 0.8)
			STRENGTH.MEDIUM_STRONG:
				shaker.screen_shake(2.0, 0.8)
			STRENGTH.LONG_WEAK:
				shaker.screen_shake(0.75, 1.2)
			STRENGTH.LONG_MEDIUM:
				shaker.screen_shake(1.2, 1.2)
			STRENGTH.LONG_STRONG:
				shaker.screen_shake(2.0, 1.2)
			STRENGTH.COMICALLY_STRONG:
				shaker.screen_shake(100, 5)

class dust:
	static var dust_instance: Node2D
	enum TYPE {DUST_1, DUST_2, DUST_3}
	
	static func spawn(type: TYPE, node: Object) -> Node2D:
		match type:
			TYPE.DUST_1:
				dust_instance = VFX._dust_1.instantiate()
			TYPE.DUST_2:
				dust_instance = VFX._dust_2.instantiate()
			TYPE.DUST_3:
				dust_instance = VFX._dust_3.instantiate()
		dust_instance.spawn(node)
		return dust_instance
