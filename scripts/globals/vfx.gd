extends Node

var _shockwave_weak: PackedScene = preload("res://shaders/shockwave/shockwave_weak.tscn")
var _shockwave_normal: PackedScene = preload("res://shaders/shockwave/shockwave_normal.tscn")
var _shockwave_large: PackedScene = preload("res://shaders/shockwave/shockwave_large.tscn")

class shockwave:
	static var shockwave_instance
	enum STRENGTH {WEAK, MEDIUM, STRONG}
	
	static func spawn(strength: STRENGTH, node: Object) -> void:
		match strength:
			STRENGTH.WEAK:
				shockwave_instance = VFX._shockwave_weak.instantiate()
				shockwave_instance.spawn(node)
			STRENGTH.MEDIUM:
				shockwave_instance = VFX._shockwave_normal.instantiate()
				shockwave_instance.spawn(node)
			STRENGTH.STRONG:
				shockwave_instance = VFX._shockwave_large.instantiate()
				shockwave_instance.spawn(node)

class camera_shake:
	var shaker = CameraShaker.new()
	enum STRENGTH {	SHORT_WEAK, SHORT_MEDIUM, SHORT_STRONG,
					MEDIUM_WEAK, MEDIUM_MEDIUM, MEDIUM_STRONG,
					LONG_WEAK, LONG_MEDIUM, LONG_STRONG,
					COMICALLY_STRONG}

	func shake_custom(factor: float, time_duration: float):
		shaker.screen_shake(factor, time_duration)
	
	func shake(strength: STRENGTH):
		match strength:
			STRENGTH.SHORT_WEAK:
				shaker.screen_shake(0.75, 0.25)
			STRENGTH.SHORT_MEDIUM:
				shaker.screen_shake(1.2, 0.25)
			STRENGTH.SHORT_STRONG:
				shaker.screen_shake(2.0, 0.25)
			STRENGTH.MEDIUM_WEAK:
				shaker.screen_shake(0.75, 0.8)
			STRENGTH.MEDIUM_MEDIUM:
				shaker.screen_shake(1.2, 0.8)
			STRENGTH.MEDIUM_STRONG:
				shaker.screen_shake(2.0, 0.8)
			STRENGTH.LONG_WEAK:
				shaker.screen_shake(0.75, 1.2)
			STRENGTH.LONG_MEDIUM:
				shaker.screen_shake(1.2, 1.2)
			STRENGTH.LONG_STRONG:
				shaker.screen_shake(2.0, 1.2)
			STRENGTH.COMICALLY_STRONG:
				shaker.screen_shake(100, 5)
