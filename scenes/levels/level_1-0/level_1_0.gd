extends Levels

var camera: Camera2D:
	get: return await CAV.get_camera_node()

var limit1 := Vector4(512, 256, 256, 2100)
var limit2 := Vector4(512, 100, 100, 2100)

func _ready() -> void:
	CAV.current_camera_mode = CAV.CAMERA_MODE.FOLLOW_PLAYER
	Terminal.current_mode = Terminal.MODE.SAFE
	camera.set_cam_limit(limit1)

func _on_cam_limit_body_entered(body: Node2D) -> void:
	if body.name.contains("Player"):
		camera.set_cam_limit(limit2)

func _on_cam_limit_body_exited(body: Node2D) -> void:
	if body.name.contains("Player"):
		camera.set_cam_limit(limit1)
