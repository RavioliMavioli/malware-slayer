extends Node

var parralax_layers: Array:
	get: return Levels.parralax_bg.get_children()
var camera: Camera2D:
	get: return Camera.instance
var shaders_parent: Node2D:
	get: return %ShadersParent

func _physics_process(delta: float) -> void:
	for l in parralax_layers:
		var magic = owner.get_viewport_rect().size * 0.5 * pow(1-l.motion_scale.x,1) * (1.0 + 1.0/camera.zoom.x)
		l.motion_offset = magic
	shaders_parent.scale = camera.zoom
